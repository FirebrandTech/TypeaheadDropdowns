var $jscomp={scope:{},checkStringArgs:function(d,g,e){if(null==d)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return d+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[g]=e.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,g,e,f){if(g){e=$jscomp.global;d=d.split(".");for(f=0;f<d.length-1;f++){var h=d[f];h in e||(e[h]={});e=e[h]}d=d[d.length-1];f=e[d];g=g(f);g!=f&&null!=g&&$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("String.prototype.includes",function(d){return d?d:function(d,e){return-1!==$jscomp.checkStringArgs(this,d,"includes").indexOf(d,e||0)}},"es6-impl","es3");
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(d,g){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),f=e.length>>>0;if(0===f)return!1;for(var h=g|0,h=Math.max(0<=h?h:f-Math.abs(h),0);h<f;){var n=e[h],p=d;if(n===p||"number"===typeof n&&"number"===typeof p&&isNaN(n)&&isNaN(p))return!0;h++}return!1}});
var TypeaheadDropdowns=function(){var d=!1,g=function(b,a){this.data=b;this.index=a;this.next=this.previous=null},e=function(){this.length=0;this.tail=this.head=null};e.prototype.add=function(b,a){var c=new g(b,a);0<this.length?(this.tail.next=c,c.previous=this.tail):this.head=c;this.tail=c;this.length++;return c};e.prototype.getNodeAtPosition=function(b){var a=this.head,c=0;for((0===this.length||0>b||b>=this.length)&&console.warn("Error: No node exists at position "+b);c<b;)a=a.next,c++;return a};
var f=function(b){var a=this,c=b.id||"select-fbt-tadd--"+x(8),d="input-fbt-tadd-"+c,m="ul-fbt-tadd-"+c,e=document.getElementById(d)||document.createElement("input"),f=document.getElementById(m)||document.createElement("ul");b.id=c;e.id=d;f.id=m;f.innerHTML="";a.select=b;a.ul=f;a.input=e;a.selectedItem=void 0;a.selectedItemIndex=void 0;a.visibleItems=void 0;a.visibleItemPositions=[];a.selectedItemValue=a.input.value;a.suppressScrollHandler=!1;e.className="fbt-tadd-autocomplete";e.autocomplete="off";
y(b,e,"font");b.parentNode.insertBefore(e,b);f.className="fbt-tadd-autocomplete-dropdown";for(var g=0;g<b.options.length;g++)c=b.options[g],d=document.createElement("li"),m=l(c),z(d,m),c.selected&&(a.selectedItem=d,a.selectedItemIndex=g),d.onmousedown=function(b){a.input.value=l(b.target);a.selectedItem=b.target;a.selectedItemIndex=g;a.hide()},d.onmouseenter=function(a){u(a.target,"fbt-tadd-highlight")},f.appendChild(d);document.body.appendChild(f);a.select.title=l(a.selectedItem);a.hide();a.ul.onmouseover=
function(a){a=f.querySelector("li.fbt-tadd-highlight");t(a,"fbt-tadd-highlight")};a.select.onmousedown=function(b){b.preventDefault();a.select.focus()};a.select.onfocus=function(c){if(-1===b.selectedIndex)return!0;c=c.target.getBoundingClientRect();v(e,c.top,c.left,c.width);c=document.body.offsetHeight;a.show();document.body.offsetHeight!=c&&(a.suppressScrollHandler=!0);a.positionList(e,f);e.value=l(b[b.selectedIndex]);a.update(!0);e.select();return!1};var h=function(){var a=document.createEvent("UIEvent");
a.initEvent("blur",!0,!0);e.dispatchEvent(a)};document.addEventListener("scroll",function(b){a.visible&&(a.suppressScrollHandler?a.suppressScrollHandler=!1:h())});a.input.onblur=function(c){selectedText=e.value;for(c=0;c<b.options.length;c++)if(l(b.options[c])===selectedText){if(b.selectedIndex==c)break;b.selectedIndex=c;a.selectedItem=a.ul.getElementsByTagName("li")[c];a.selectedItemIndex=c;a.selectedItemValue=selectedText;a.select.title=l(a.selectedItem);c=document.createEvent("UIEvent");c.initEvent("change",
!0,!0);b.dispatchEvent(c);break}a.hide();return!1};a.input.onkeydown=function(b){if(38===b.keyCode)b=a.visibleItems.getNodeAtPosition(a.visibleItemPositions[a.selectedItemIndex]),null!==b.previous&&(a.selectedItem=b.previous.data,a.selectedItemIndex=b.previous.index,a.highlightSelected(),a.input.value=l(a.selectedItem),a.input.focus()),n(a.selectedItem,a.ul)||(a.ul.scrollTop=a.selectedItem.offsetTop),window.setTimeout(function(){a.input.setSelectionRange(a.input.value.length,a.input.value.length)},
0);else if(40===b.keyCode){b=a.visibleItemPositions[a.selectedItemIndex];var c;if("undefined"===typeof a.selectedItem||"undefined"===typeof b){a.selectedItemIndex=a.getFirstVisibleItemIndex();b=a.visibleItemPositions[a.selectedItemIndex];if("undefined"===typeof a.selectedItemIndex||"undefined"===typeof b)return;c=a.visibleItems.getNodeAtPosition(a.visibleItemPositions[a.selectedItemIndex])}else b=a.visibleItemPositions[a.selectedItemIndex],b=a.visibleItems.getNodeAtPosition(a.visibleItemPositions[a.selectedItemIndex]),
null!==b.next&&(c=b.next);"undefined"!==typeof c&&(a.selectedItem=c.data,a.selectedItemIndex=c.index,a.highlightSelected(),a.input.value=l(a.selectedItem),n(a.selectedItem,a.ul)||(a.ul.scrollTop=a.selectedItem.offsetTop-(a.ul.clientHeight-a.selectedItem.offsetHeight)))}else if(10===b.keyCode||13===b.keyCode||27===b.keyCode)return h(),!1};a.input.onkeyup=function(b){if(b.target.value!==a.selectedItemValue){if(p([37,38,39,40,9,16,17,18,19,20,35,36,45,91,92,112,113,114,115,116,117,118,119,120,121,122,
123],b.keyCode))return!0;a.selectedItemValue=b.target.value;a.selectedItemIndex=void 0;a.selectedItem=void 0;highlightedItem=a.ul.querySelector("li.fbt-tadd-highlight");null!==highlightedItem&&t(highlightedItem,"fbt-tadd-highlight");window.setTimeout(function(){a.update(!1)},0)}}};f.prototype.getFirstVisibleItemIndex=function(){for(var b=0;b<this.visibleItemPositions.length;b++)if("undefined"!==typeof this.visibleItemPositions[b])return b;return 0};f.prototype.highlightSelected=function(){var b=this.ul.querySelector("li.fbt-tadd-highlight");
t(b,"fbt-tadd-highlight");u(this.selectedItem,"fbt-tadd-highlight")};f.prototype.show=function(){this.visible=!0;this.input.hidden=!1;this.ul.hidden=!1;this.select.hidden=!0};f.prototype.hide=function(){this.visible=!1;this.input.hidden=!0;this.ul.hidden=!0;this.select.hidden=!1;this.select.blur();this.ulPosition=void 0};f.prototype.update=function(b){for(var a=this.input.value.toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.ul.getElementsByTagName("li"),d=[],f=[],g=new e,h=[],p=0,
q=0;q<c.length;q++){var r=c[q];b||null!==l(r).toLowerCase().match(a)?(f.push(r),g.add(r,q),h[q]=p++):d.push(r)}d.map(function(a){u(a,"fbt-tadd-hidden")});f.map(function(a){t(a,"fbt-tadd-hidden")});this.positionList(this.input,this.ul);"undefined"!==typeof this.selectedItem&&this.highlightSelected();this.visibleItems=g;this.visibleItemPositions=h;n(this.selectedItem,this.ul)||(this.ul.scrollTop=this.selectedItem.offsetTop)};f.prototype.positionList=function(b,a){var c=b.getBoundingClientRect(),d=a.offsetHeight,
e=c.top+c.height+d,f=window.innerHeight;"above"!==this.ulPosition&&("below"===this.ulPosition||e<=f||0>c.top-d)?(v(a,c.bottom,c.left,c.width-b.clientLeft,!0),this.ulPosition="below"):(v(a,c.top-d,c.left,c.width-b.clientLeft,!0),this.ulPosition="above")};var h=function(){var b,a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");b=".{{classNames.hidden}} { \r\n      display: none; \r\n} \r\ninput.{{classNames.input}} { \r\n      padding-left: 7px; \r\n} \r\nul.{{classNames.dropdown}} { \r\n      position: absolute; \r\n      background: white; \r\n      padding-left: 0px; \r\n      margin: 0px; \r\n      max-height: 200px; \r\n      overflow-y: auto; \r\n      border: solid rgb(121, 155, 210) 1px; \r\n      text-align: left; \r\n      z-index: 999999; \r\n} \r\nul.{{classNames.dropdown}} li { \r\n      list-style-type: none; \r\n      cursor: default; \r\n      padding-left: 7px; \r\n} \r\nul.{{classNames.dropdown}} li.{{classNames.highlight}} { \r\n      background: rgb(30, 144, 255); \r\n      color: white; \r\n} \r\nul.{{classNames.dropdown}} li span.{{classNames.matchingText}} { \r\n      font-weight: bold; \r\n      color: purple; \r\n    } \r\n".replace(/{{(.*?)}}/g,
function(a){return eval(a)});c.type="text/css";c.styleSheet?style.styleSheet.cssText=b:c.appendChild(document.createTextNode(b));a.appendChild(c)},n=function(b,a){if("undefined"===typeof b||"undefined"===typeof a)return!0;var c=a.scrollTop,d=c+a.clientHeight,e=b.offsetTop,f=e+b.offsetHeight;return e>=c&&f<=d},p=function(b,a){return 0===b.length?!1:b.map(function(b){return b===a}).reduce(function(a,b){return a||b})},v=function(b,a,c,d,e){var f=window.pageXOffset||document.documentElement.scrollLeft||
document.body.scrollLeft||0;b.style.top=a+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)+"px";b.style.left=c+f+"px";e?b.style.minWidth=d+"px":b.style.width=d+"px"},y=function(b,a,c){a.style[c]=window.getComputedStyle(b)[c]},t=function(b,a){""!==a&&"undefined"!==typeof b&&null!==b&&(b.className=b.className.replace(new RegExp("(?:^|\\s)"+a+"(?!\\S)","gi"),""))},u=function(b,a){""===b.className?b.className=a:-1===b.className.toLowerCase().indexOf(a.toLowerCase())&&
(b.className+=" "+a)},z=function(b,a){b.hasOwnProperty("innerText")?b.innerText=a.trim():b.textContent=a.trim()},l=function(b,a){if("undefined"!==typeof b)return b.hasOwnProperty("innerText")?b.innerText.trim():b.textContent.trim()},x=function(b){for(var a="",c=0;c<b;c++)a+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random()));return a},A=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||
Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var a=b.length;0<=--a&&b.item(a)!==this;);return-1<a})},w=function(b){for(var a=[],c=0;c<b.length;c++)a.push(b[c]);return a},B=function(b,a){var c={attributes:!1,childList:!0,characterData:!1,subtree:!0},d=new MutationObserver(function(e){var f=[],g=[],h=[];e.forEach(function(e){for(var m=0;m<e.addedNodes.length;m++){var k=e.addedNodes[m];if(1==k.nodeType){var l=
k.querySelectorAll(b),n=w(k.querySelectorAll(a));if(k.matches(b)&&!k.matches(a))f.push(k),d.observe(k,c);else if(0<l.length)for(k=0;k<l.length;k++)n.includes(l[k])||(f.push(l[k]),d.observe(l[k],c));else"option"!==k.tagName.toLowerCase()||p(g,k.parentNode)||n.includes(k.parentNode)||g.push(k.parentNode)}}for(m=0;m<e.removedNodes.length;m++)k=e.removedNodes[m],"undefined"!==typeof k.tagName&&k.matches(b)&&h.push(k)});f.forEach(function(a){TypeaheadDropdowns.initFromNode(a)});g.forEach(function(a){TypeaheadDropdowns.initFromNode(a)});
h.forEach(function(a){a=a.id;var b;"undefined"!==typeof a&&(b="ul-fbt-tadd-"+a,input=document.getElementById("input-fbt-tadd-"+a),ul=document.getElementById(b),input&&input.parentElement.removeChild(input),ul&&ul.parentElement.removeChild(ul))})});d.observe(document.body,c);for(var e=document.querySelectorAll(b),f=w(document.querySelectorAll(a)),g=0;g<e.length;g++)f.includes(e[g])||d.observe(e[g],c)};return{init:function(b,a){if(!d){if(MutationObserver){b=b||"select";B(b,a);h();A();for(var c=document.querySelectorAll(b),
e=w(document.querySelectorAll(a)),g=0;g<c.length;g++)"select"!==c[g].tagName.toLowerCase()?console.log("The selector passed to TypeaheadDropdowns.init() should only include <select> elements.  Skipping: "+c[g].tagName):e.includes(c[g])||new f(c[g])}else console.log("TypeaheadDropdowns cannot be initialized, because this browser does not support the MutationObserver API.");d=!0}},initFromNode:function(b){"select"===b.tagName.toLowerCase()&&new f(b)}}}();
